{
  "opens a project file": {
    "source": "",
    "json": null,
    "jsonWithExtensions": null,
    "importSuccessful": false,
    "allProjectFileNames": [],
    "isRestoreBackUpModalOpen": false,
    "currentFile": "story.abc",
    "isNewProjectModalOpen": false,
    "name": "",
    "awsProfileName": "",
    "projectState": "Closed",
    "projectSessionId": null,
    "projectFileMap": {}
  },
  "opens a project location": {
    "router": {
      "location": {
        "pathname": "/",
        "search": "",
        "hash": ""
      },
      "action": "POP"
    },
    "workspace": {
      "selectedSceneId": "start",
      "selectedSceneHistory": [],
      "currentLocale": "en-US",
      "syntaxErrors": [],
      "mapType": "tree",
      "isStacked": false,
      "primaryMode": "Source",
      "secondaryMode": "Map",
      "editorLocale": "en-US",
      "experimentalModeEnabled": false,
      "recentProjectList": [
        {
          "name": "sample"
        }
      ]
    },
    "simulator": {
      "response": null,
      "isRunning": false,
      "showSpinner": false,
      "isPollyPreview": true,
      "pollyPreviewAccessTokenInfo": {
        "accessToken": "",
        "timestamp": 0
      }
    },
    "slotTypes": {
      "types": [
        {
          "name": "CustomFruitType",
          "values": [
            "apple",
            "pear",
            "orange"
          ]
        }
      ]
    },
    "snippets": {
      "snippets": [
        {
          "short": "sfx",
          "long": "<audio src='$SNIPPET_S3_RESOURCES_URI/audio/$1'/>"
        },
        {
          "short": "pic",
          "long": "$SNIPPET_S3_RESOURCES_URI/images/$1"
        },
        {
          "short": "trumpet",
          "long": "<audio src='https://sfb-framework.s3.amazonaws.com/examples/sounds/Trumpet_1.mp3' />"
        },
        {
          "short": "pause for",
          "long": "<break time='$1'/>"
        },
        {
          "short": "pause",
          "long": "<break time='1s'/>"
        },
        {
          "short": "shortPause",
          "long": "<break time='0.5s'/>"
        },
        {
          "short": "kid",
          "long": "<voice name='Justin'>"
        },
        {
          "short": "/kid",
          "long": "</voice>"
        },
        {
          "short": "ocean wave",
          "long": "<audio src='https://sfb-framework.s3.amazonaws.com/examples/sounds/ocean_wave.mp3'/>"
        }
      ],
      "hasError": false,
      "errorMessage": ""
    },
    "project": {
      "source": "// SPECIAL SCENE: @start is a special scene that tells the framework to start your game at this scene. It can be anywhere in your file. If no @start scene is present, the framework will start with the first scene in the file.\n@start\n\t*say\n\t\tGood morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?\n\t*then\n\t\t// Clear the flag called 'hesitated' in case it was set in a previous play-through.\n\t\tclear hesitated\n\t\t// Listen for affirmative response phrases from the player and continue the game accordingly. Note: the phrase 'yes' will get automatically mapped to the AMAZON.YesIntent so that it will catch responses like \"yep\" and many others.\n        hear yes, go on a hike {\n\t\t\t// go to the '@get ready' scene.\n            -> get ready\n        }\n\t\t// Listen for negative response phrases from the player and continue the game accordingly. Note: the phrase 'no' will get automatically mapped to the AMAZON.NoIntent so that it will catch responses like \"nope\" and many others.\n        hear no {\n\t\t\t// Remember that the player hesitated so we can use that decision later in the game.\n            flag hesitated\n            -> hesitate\n        }\n\n@hesitate\n\t*say\n\t\tYou spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?\n\t*then\n\t\thear yes, go on a hike, reconsider {\n            -> get ready\n        }\n        hear no {\n            -> do not go on a hike\n        }\n\t\thear great {\n\t\t\t-> end\n\t\t}\n\n@do not go on a hike\n\t*say\n\t\tYou continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.\n\t*then\n\t\t-> end\n\n@get ready\n\t*say\n\t\tYay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!\n\t// Define a shortened '*recap' which the player will hear anytime this scene is repeated after the first time.\n\t*recap\n\t\tYou pick a hiking destination, get dressed, and pack your gear.\n\t*then\n\t\t-> water\n\n\n@water\n\t*say\n\t\tHow many bottles of water would you like to take with you?\n\t// Define a '*reprompt' to play if we don't understand the player's response.\n\t*reprompt\n\t\tI'd recommend one to three bottles of water. How many bottles of water would you like to take with you?\n\t*then\n\t\t// Tell the framework that it should listen for a number when we ask it to listen for {bottles}\n\t\tslot bottles to 'AMAZON.NUMBER'\n\t\t// Listen for a number or a number folowed by the phrase 'bottle' or 'bottles' and remember that number as 'bottles'\n\t\thear {bottles}, {bottles} bottle, {bottles} bottles {\n\t\t\t// if the player said zero, tell the player they need to bring water\n            if bottles <= 0 {\n                -> not enough\n            }\n\t\t\t// if the player said more that 4 bottles of water, tell the player that is too much\n            if bottles > 4 {\n                -> too many\n            }\n\t\t\t// if the player said between 1 and 4 bottles of water, keep playing\n            -> trailhead\n        }\n\t\t// If the player refuses or says 'none', tell the player to bring water. Hydration is important.\n\t\thear no, none {\n\t\t\t-> not enough\n\t\t}\n\n// Give a reason why the player can't proceed and route back to ask how many bottles of water.\n@not enough\n\t*say\n\t\tYou need at least some water.\n\t*then\n\t\t-> water\n\n// Give a reason why the player can't proceed and route back to ask how many bottles of water.\n@too many\n\t*say\n\t\tYou only have 4 bottles to use at home.\n\t*then\n\t\t-> water\n\n\n@trailhead\n\t*say\n\t\tYou fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.\n\t*then\n\t\t// The parking lot is now full if the player hesitated before deciding to go on a hike.\n\t\tif hesitated {\n            -> parking full\n        }\n        -> parking free\n\n\n@parking full\n\t*say\n\t\tYou pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.\n\t*then\n\t\t-> start hike\n\n\n@parking free\n\t*say\n\t\tYou pull up to the trailhead and park.\n\t*then\n\t\t-> start hike\n\n\n@start hike\n\t*say\n\t\tYou start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.\n\t*then\n\t\t-> rest\n\n\n@rest\n\t*say\n\t\tYou take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?\n\t*then\n\t\thear continue on to the peak {\n            -> continue\n        }\n        hear call it a day and head down {\n            -> head home\n        }\n\n\n@head home\n\t*say\n\t\tYou rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.\n\t*then\n\t\t-> end\n\n@continue\n\t*say\n\t\tYou get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.\n\t*then\n\t\t// The player can't make it to the peak if the player didn't bring enough water.\n\t\tif bottles <= 1 {\n            -> peak fail\n        }\n        -> peak\n\n\n@peak fail\n\t*say\n\t\tAbout half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.\n\t*then\n\t\t-> end\n\n@peak\n\t*say\n\t\tYou stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.\n\t*then\n\t\t-> end\n\n// SPECIAL SCENE: \"@global prepend\" is a special scene and allows you to add content or instructions to the start of every scene set\n@global prepend\n    *show\n        // add visuals to every scene\n        template: 'default'\n        background:'https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg'\n        title: 'Skill Flow Builder'\n        subtitle: ''\n\n// SPECIAL SCENE: \"@global append\" is a special scene and allows you to add content or instructions to the end of every scene set\n@global append\n    *then\n        // listen everywhere for a few helpful phrases\n        hear start over, restart {\n            // Tell the framework to restart from the beginning\n            >> RESTART\n        }\n        hear repeat {\n            // Tell the framework to repeat everything the player just heard. You can use >> REPROMPT which only plays the reprompt content\n            >> REPEAT\n        }\n        hear help {\n            -> help\n        }\n        hear go back {\n            >> back\n        }\n        // if the player hasn't heard the help message yet and says something the framework didn't catch, play the help message\n        if !helped {\n            hear * {\n                -> help\n            }\n        }\n\n// SPECIAL SCENE: @resume is a special scene that will play when the player comes back to the game after leaving\n@resume\n\t*say\n\t\tWelcome back to your hiking story. Would you like to pick up where you last left off?\n\t*then\n\t\thear yes {\n            // Tell the framework to pick up where they last left off\n\t\t\t>> RESUME\n\t\t}\n\t\thear no {\n\t\t\t>> RESTART\n\t\t}\n\n// SPECIAL SCENE: @pause is a special scene that plays before the skill pauses\n@pause\n\t*say\n\t\tThanks for playing.\n\t*then\n\t\t>> PAUSE\n\n@end\n\t*say\n\t\tThanks for playing. Would you like to start over or take a break?\n\t*then\n\t\thear take a break {\n\t\t\t>> END\n\t\t}\n\n@help\n    *say\n        Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.\n    *then\n        // flag that player has heard this\n        flag helped\n\n        // go back to last scene.\n        >> BACK\n",
      "json": {
        "pluginName": "default",
        "scenes": [
          {
            "contents": [
              {
                "narration": "Good morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
                "sceneDirections": [
                  {
                    "directionType": "clear",
                    "parameters": {
                      "variableName": "hesitated"
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes",
                        "go on a hike"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "get ready",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent",
                        "flexaIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "flag",
                          "parameters": {
                            "variableName": "hesitated"
                          }
                        },
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "hesitate",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "start",
            "customProperties": {
              "sourceLocation": 226,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes",
                        "go on a hike",
                        "reconsider"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "get ready",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent",
                        "flexaIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "do not go on a hike",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "great"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "end",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexbIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "hesitate",
            "customProperties": {
              "sourceLocation": 1210,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "do not go on a hike",
            "customProperties": {
              "sourceLocation": 1653,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
                "sceneDirections": [
                  {
                    "directionType": "recap",
                    "parameters": {
                      "message": "You pick a hiking destination, get dressed, and pack your gear."
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "get ready",
            "customProperties": {
              "sourceLocation": 1847,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "How many bottles of water would you like to take with you?",
                "sceneDirections": [
                  {
                    "directionType": "reprompt",
                    "parameters": {
                      "message": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?"
                    }
                  },
                  {
                    "directionType": "slot",
                    "parameters": {
                      "variableName": "bottles",
                      "variableType": "AMAZON.NUMBER"
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "{bottles}",
                        "{bottles} bottle",
                        "{bottles} bottles"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "condition",
                          "parameters": {
                            "condition": "{bottles} <= 0",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "not enough",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "directionType": "condition",
                          "parameters": {
                            "condition": "{bottles} > 4",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "too many",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "trailhead",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": []
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no",
                        "none"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "not enough",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent",
                        "flexcIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "water",
            "customProperties": {
              "sourceLocation": 2457,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You need at least some water.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "not enough",
            "customProperties": {
              "sourceLocation": 3687,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You only have 4 bottles to use at home.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "too many",
            "customProperties": {
              "sourceLocation": 3851,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
                "sceneDirections": [
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "{hesitated}",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "parking full",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "parking free",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "trailhead",
            "customProperties": {
              "sourceLocation": 3929,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "start hike",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "parking full",
            "customProperties": {
              "sourceLocation": 4302,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You pull up to the trailhead and park.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "start hike",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "parking free",
            "customProperties": {
              "sourceLocation": 4659,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "rest",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "start hike",
            "customProperties": {
              "sourceLocation": 4745,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "continue on to the peak"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "continue",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexdIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "call it a day and head down"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "head home",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexeIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "rest",
            "customProperties": {
              "sourceLocation": 5461,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "head home",
            "customProperties": {
              "sourceLocation": 6055,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
                "sceneDirections": [
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "{bottles} <= 1",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "peak fail",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "peak",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "continue",
            "customProperties": {
              "sourceLocation": 6254,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "peak fail",
            "customProperties": {
              "sourceLocation": 6622,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "peak",
            "customProperties": {
              "sourceLocation": 7312,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "",
                "sceneDirections": [
                  {
                    "directionType": "visuals",
                    "parameters": {
                      "template": "default",
                      "background": "https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg",
                      "title": "Skill Flow Builder",
                      "subtitle": ""
                    }
                  }
                ]
              }
            ],
            "id": "global prepend",
            "customProperties": {
              "sourceLocation": 8202,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "start over",
                        "restart"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "restart",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.StartOverIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "repeat"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "repeat",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.RepeatIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "help"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "help",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.HelpIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "go back"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "back",
                          "parameters": {
                            "count": 1
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.PreviousIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "!{helped}",
                      "directions": [
                        {
                          "directionType": "choice",
                          "parameters": {
                            "utterances": [
                              "*"
                            ],
                            "saveToHistory": "true",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "help",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ],
                            "utteranceIDs": []
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "global append",
            "customProperties": {
              "sourceLocation": 8567,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "{resume}",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "restart",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "resume",
            "customProperties": {
              "sourceLocation": 9408,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Thanks for playing.",
                "sceneDirections": [
                  {
                    "directionType": "pause",
                    "parameters": {}
                  }
                ]
              }
            ],
            "id": "pause",
            "customProperties": {
              "sourceLocation": 9727,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Thanks for playing. Would you like to start over or take a break?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "take a break"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "ending",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "flexfIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "end",
            "customProperties": {
              "sourceLocation": 9781,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.",
                "sceneDirections": [
                  {
                    "directionType": "flag",
                    "parameters": {
                      "variableName": "helped"
                    }
                  },
                  {
                    "directionType": "back",
                    "parameters": {
                      "count": 1
                    }
                  }
                ]
              }
            ],
            "id": "help",
            "customProperties": {
              "sourceLocation": 9904,
              "sourceID": "story.abc"
            }
          }
        ],
        "storyID": "Test",
        "storyTitle": "Test",
        "alexaVoiceModel": {
          "languageModel": {
            "intents": [
              {
                "name": "flexaIntent",
                "samples": [
                  "go on a hike",
                  "reconsider"
                ]
              },
              {
                "name": "flexbIntent",
                "samples": [
                  "great"
                ]
              },
              {
                "name": "CatchAllSlotIntent",
                "samples": [
                  "{bottles}",
                  "{bottles} bottle",
                  "{bottles} bottles"
                ],
                "slots": [
                  {
                    "name": "bottles",
                    "type": "AMAZON.NUMBER"
                  }
                ]
              },
              {
                "name": "flexcIntent",
                "samples": [
                  "none"
                ]
              },
              {
                "name": "flexdIntent",
                "samples": [
                  "continue on to the peak"
                ]
              },
              {
                "name": "flexeIntent",
                "samples": [
                  "call it a day and head down"
                ]
              },
              {
                "name": "flexfIntent",
                "samples": [
                  "take a break"
                ]
              },
              {
                "name": "AMAZON.CancelIntent"
              },
              {
                "name": "AMAZON.HelpIntent"
              },
              {
                "name": "AMAZON.LoopOffIntent"
              },
              {
                "name": "AMAZON.LoopOnIntent"
              },
              {
                "name": "AMAZON.NextIntent"
              },
              {
                "name": "AMAZON.NoIntent"
              },
              {
                "name": "AMAZON.PauseIntent"
              },
              {
                "name": "AMAZON.PreviousIntent"
              },
              {
                "name": "AMAZON.RepeatIntent"
              },
              {
                "name": "AMAZON.ResumeIntent"
              },
              {
                "name": "AMAZON.ShuffleOffIntent"
              },
              {
                "name": "AMAZON.ShuffleOnIntent"
              },
              {
                "name": "AMAZON.StartOverIntent"
              },
              {
                "name": "AMAZON.StopIntent"
              },
              {
                "name": "AMAZON.YesIntent"
              },
              {
                "name": "AMAZON.ScrollUpIntent"
              },
              {
                "name": "AMAZON.ScrollLeftIntent"
              },
              {
                "name": "AMAZON.ScrollDownIntent"
              },
              {
                "name": "AMAZON.ScrollRightIntent"
              },
              {
                "name": "AMAZON.PageUpIntent"
              },
              {
                "name": "AMAZON.PageDownIntent"
              },
              {
                "name": "AMAZON.MoreIntent"
              },
              {
                "name": "AMAZON.FallbackIntent"
              }
            ],
            "invocationName": "Test"
          }
        }
      },
      "graphElements": {
        "nodes": [
          {
            "scene": {
              "contents": [
                {
                  "narration": "Good morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
                  "sceneDirections": [
                    {
                      "directionType": "clear",
                      "parameters": {
                        "variableName": "hesitated"
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes",
                          "go on a hike"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "get ready",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent",
                          "flexaIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "flag",
                            "parameters": {
                              "variableName": "hesitated"
                            }
                          },
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "hesitate",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "start",
              "customProperties": {
                "sourceLocation": 226,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "get ready",
              "hesitate"
            ],
            "id": "start",
            "children": [],
            "isLink": false,
            "label": "start",
            "sourceID": "story.abc",
            "sourceLocation": 226
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes",
                          "go on a hike",
                          "reconsider"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "get ready",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent",
                          "flexaIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "do not go on a hike",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "great"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "end",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexbIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "hesitate",
              "customProperties": {
                "sourceLocation": 1210,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "get ready",
              "do not go on a hike",
              "end"
            ],
            "id": "hesitate",
            "children": [],
            "isLink": false,
            "label": "hesitate",
            "sourceID": "story.abc",
            "sourceLocation": 1210
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "do not go on a hike",
              "customProperties": {
                "sourceLocation": 1653,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "do not go on a hike",
            "children": [],
            "isLink": false,
            "label": "do not go on a hike",
            "sourceID": "story.abc",
            "sourceLocation": 1653
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
                  "sceneDirections": [
                    {
                      "directionType": "recap",
                      "parameters": {
                        "message": "You pick a hiking destination, get dressed, and pack your gear."
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "get ready",
              "customProperties": {
                "sourceLocation": 1847,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "get ready",
            "children": [],
            "isLink": false,
            "label": "get ready",
            "sourceID": "story.abc",
            "sourceLocation": 1847
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "How many bottles of water would you like to take with you?",
                  "sceneDirections": [
                    {
                      "directionType": "reprompt",
                      "parameters": {
                        "message": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?"
                      }
                    },
                    {
                      "directionType": "slot",
                      "parameters": {
                        "variableName": "bottles",
                        "variableType": "AMAZON.NUMBER"
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "{bottles}",
                          "{bottles} bottle",
                          "{bottles} bottles"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "condition",
                            "parameters": {
                              "condition": "{bottles} <= 0",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "not enough",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "directionType": "condition",
                            "parameters": {
                              "condition": "{bottles} > 4",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "too many",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "trailhead",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": []
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no",
                          "none"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "not enough",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent",
                          "flexcIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "water",
              "customProperties": {
                "sourceLocation": 2457,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "not enough",
              "too many",
              "trailhead"
            ],
            "id": "water",
            "children": [],
            "isLink": false,
            "label": "water",
            "sourceID": "story.abc",
            "sourceLocation": 2457
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You need at least some water.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "not enough",
              "customProperties": {
                "sourceLocation": 3687,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "not enough",
            "children": [],
            "isLink": false,
            "label": "not enough",
            "sourceID": "story.abc",
            "sourceLocation": 3687
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You only have 4 bottles to use at home.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "too many",
              "customProperties": {
                "sourceLocation": 3851,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "too many",
            "children": [],
            "isLink": false,
            "label": "too many",
            "sourceID": "story.abc",
            "sourceLocation": 3851
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
                  "sceneDirections": [
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "{hesitated}",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "parking full",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "parking free",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "trailhead",
              "customProperties": {
                "sourceLocation": 3929,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "parking full",
              "parking free"
            ],
            "id": "trailhead",
            "children": [],
            "isLink": false,
            "label": "trailhead",
            "sourceID": "story.abc",
            "sourceLocation": 3929
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "start hike",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "parking full",
              "customProperties": {
                "sourceLocation": 4302,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "start hike"
            ],
            "id": "parking full",
            "children": [],
            "isLink": false,
            "label": "parking full",
            "sourceID": "story.abc",
            "sourceLocation": 4302
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You pull up to the trailhead and park.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "start hike",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "parking free",
              "customProperties": {
                "sourceLocation": 4659,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "start hike"
            ],
            "id": "parking free",
            "children": [],
            "isLink": false,
            "label": "parking free",
            "sourceID": "story.abc",
            "sourceLocation": 4659
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "rest",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "start hike",
              "customProperties": {
                "sourceLocation": 4745,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "rest"
            ],
            "id": "start hike",
            "children": [],
            "isLink": false,
            "label": "start hike",
            "sourceID": "story.abc",
            "sourceLocation": 4745
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "continue on to the peak"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "continue",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexdIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "call it a day and head down"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "head home",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexeIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "rest",
              "customProperties": {
                "sourceLocation": 5461,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "continue",
              "head home"
            ],
            "id": "rest",
            "children": [],
            "isLink": false,
            "label": "rest",
            "sourceID": "story.abc",
            "sourceLocation": 5461
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "head home",
              "customProperties": {
                "sourceLocation": 6055,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "head home",
            "children": [],
            "isLink": false,
            "label": "head home",
            "sourceID": "story.abc",
            "sourceLocation": 6055
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
                  "sceneDirections": [
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "{bottles} <= 1",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "peak fail",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "peak",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "continue",
              "customProperties": {
                "sourceLocation": 6254,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "peak fail",
              "peak"
            ],
            "id": "continue",
            "children": [],
            "isLink": false,
            "label": "continue",
            "sourceID": "story.abc",
            "sourceLocation": 6254
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "peak fail",
              "customProperties": {
                "sourceLocation": 6622,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "peak fail",
            "children": [],
            "isLink": false,
            "label": "peak fail",
            "sourceID": "story.abc",
            "sourceLocation": 6622
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "peak",
              "customProperties": {
                "sourceLocation": 7312,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "peak",
            "children": [],
            "isLink": false,
            "label": "peak",
            "sourceID": "story.abc",
            "sourceLocation": 7312
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "",
                  "sceneDirections": [
                    {
                      "directionType": "visuals",
                      "parameters": {
                        "template": "default",
                        "background": "https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg",
                        "title": "Skill Flow Builder",
                        "subtitle": ""
                      }
                    }
                  ]
                }
              ],
              "id": "global prepend",
              "customProperties": {
                "sourceLocation": 8202,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "global prepend",
            "children": [],
            "isLink": false,
            "label": "global prepend",
            "sourceID": "story.abc",
            "sourceLocation": 8202
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "start over",
                          "restart"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "restart",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.StartOverIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "repeat"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "repeat",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.RepeatIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "help"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "help",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.HelpIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "go back"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "back",
                            "parameters": {
                              "count": 1
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.PreviousIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "!{helped}",
                        "directions": [
                          {
                            "directionType": "choice",
                            "parameters": {
                              "utterances": [
                                "*"
                              ],
                              "saveToHistory": "true",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "help",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ],
                              "utteranceIDs": []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "global append",
              "customProperties": {
                "sourceLocation": 8567,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "help"
            ],
            "id": "global append",
            "children": [],
            "isLink": false,
            "label": "global append",
            "sourceID": "story.abc",
            "sourceLocation": 8567
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "{resume}",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "restart",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "resume",
              "customProperties": {
                "sourceLocation": 9408,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "resume",
            "children": [],
            "isLink": false,
            "label": "resume",
            "sourceID": "story.abc",
            "sourceLocation": 9408
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Thanks for playing.",
                  "sceneDirections": [
                    {
                      "directionType": "pause",
                      "parameters": {}
                    }
                  ]
                }
              ],
              "id": "pause",
              "customProperties": {
                "sourceLocation": 9727,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "pause",
            "children": [],
            "isLink": false,
            "label": "pause",
            "sourceID": "story.abc",
            "sourceLocation": 9727
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Thanks for playing. Would you like to start over or take a break?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "take a break"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "ending",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "flexfIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "end",
              "customProperties": {
                "sourceLocation": 9781,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "end",
            "children": [],
            "isLink": false,
            "label": "end",
            "sourceID": "story.abc",
            "sourceLocation": 9781
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.",
                  "sceneDirections": [
                    {
                      "directionType": "flag",
                      "parameters": {
                        "variableName": "helped"
                      }
                    },
                    {
                      "directionType": "back",
                      "parameters": {
                        "count": 1
                      }
                    }
                  ]
                }
              ],
              "id": "help",
              "customProperties": {
                "sourceLocation": 9904,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "help",
            "children": [],
            "isLink": false,
            "label": "help",
            "sourceID": "story.abc",
            "sourceLocation": 9904
          }
        ],
        "edges": [
          {
            "from": "start",
            "to": "get ready"
          },
          {
            "from": "start",
            "to": "hesitate"
          },
          {
            "from": "hesitate",
            "to": "get ready"
          },
          {
            "from": "hesitate",
            "to": "do not go on a hike"
          },
          {
            "from": "hesitate",
            "to": "end"
          },
          {
            "from": "do not go on a hike",
            "to": "end"
          },
          {
            "from": "get ready",
            "to": "water"
          },
          {
            "from": "water",
            "to": "not enough"
          },
          {
            "from": "water",
            "to": "too many"
          },
          {
            "from": "water",
            "to": "trailhead"
          },
          {
            "from": "not enough",
            "to": "water"
          },
          {
            "from": "too many",
            "to": "water"
          },
          {
            "from": "trailhead",
            "to": "parking full"
          },
          {
            "from": "trailhead",
            "to": "parking free"
          },
          {
            "from": "parking full",
            "to": "start hike"
          },
          {
            "from": "parking free",
            "to": "start hike"
          },
          {
            "from": "start hike",
            "to": "rest"
          },
          {
            "from": "rest",
            "to": "continue"
          },
          {
            "from": "rest",
            "to": "head home"
          },
          {
            "from": "head home",
            "to": "end"
          },
          {
            "from": "continue",
            "to": "peak fail"
          },
          {
            "from": "continue",
            "to": "peak"
          },
          {
            "from": "peak fail",
            "to": "end"
          },
          {
            "from": "peak",
            "to": "end"
          },
          {
            "from": "global append",
            "to": "help"
          },
          {
            "from": "global append",
            "to": "help"
          }
        ],
        "nodeRefs": {
          "start": {
            "scene": {
              "contents": [
                {
                  "narration": "Good morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
                  "sceneDirections": [
                    {
                      "directionType": "clear",
                      "parameters": {
                        "variableName": "hesitated"
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes",
                          "go on a hike"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "get ready",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent",
                          "flexaIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "flag",
                            "parameters": {
                              "variableName": "hesitated"
                            }
                          },
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "hesitate",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "start",
              "customProperties": {
                "sourceLocation": 226,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "get ready",
              "hesitate"
            ],
            "id": "start",
            "children": [],
            "isLink": false,
            "label": "start",
            "sourceID": "story.abc",
            "sourceLocation": 226
          },
          "hesitate": {
            "scene": {
              "contents": [
                {
                  "narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes",
                          "go on a hike",
                          "reconsider"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "get ready",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent",
                          "flexaIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "do not go on a hike",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "great"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "end",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexbIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "hesitate",
              "customProperties": {
                "sourceLocation": 1210,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "get ready",
              "do not go on a hike",
              "end"
            ],
            "id": "hesitate",
            "children": [],
            "isLink": false,
            "label": "hesitate",
            "sourceID": "story.abc",
            "sourceLocation": 1210
          },
          "do not go on a hike": {
            "scene": {
              "contents": [
                {
                  "narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "do not go on a hike",
              "customProperties": {
                "sourceLocation": 1653,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "do not go on a hike",
            "children": [],
            "isLink": false,
            "label": "do not go on a hike",
            "sourceID": "story.abc",
            "sourceLocation": 1653
          },
          "get ready": {
            "scene": {
              "contents": [
                {
                  "narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
                  "sceneDirections": [
                    {
                      "directionType": "recap",
                      "parameters": {
                        "message": "You pick a hiking destination, get dressed, and pack your gear."
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "get ready",
              "customProperties": {
                "sourceLocation": 1847,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "get ready",
            "children": [],
            "isLink": false,
            "label": "get ready",
            "sourceID": "story.abc",
            "sourceLocation": 1847
          },
          "water": {
            "scene": {
              "contents": [
                {
                  "narration": "How many bottles of water would you like to take with you?",
                  "sceneDirections": [
                    {
                      "directionType": "reprompt",
                      "parameters": {
                        "message": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?"
                      }
                    },
                    {
                      "directionType": "slot",
                      "parameters": {
                        "variableName": "bottles",
                        "variableType": "AMAZON.NUMBER"
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "{bottles}",
                          "{bottles} bottle",
                          "{bottles} bottles"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "condition",
                            "parameters": {
                              "condition": "{bottles} <= 0",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "not enough",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "directionType": "condition",
                            "parameters": {
                              "condition": "{bottles} > 4",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "too many",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "trailhead",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": []
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no",
                          "none"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "not enough",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent",
                          "flexcIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "water",
              "customProperties": {
                "sourceLocation": 2457,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "not enough",
              "too many",
              "trailhead"
            ],
            "id": "water",
            "children": [],
            "isLink": false,
            "label": "water",
            "sourceID": "story.abc",
            "sourceLocation": 2457
          },
          "not enough": {
            "scene": {
              "contents": [
                {
                  "narration": "You need at least some water.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "not enough",
              "customProperties": {
                "sourceLocation": 3687,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "not enough",
            "children": [],
            "isLink": false,
            "label": "not enough",
            "sourceID": "story.abc",
            "sourceLocation": 3687
          },
          "too many": {
            "scene": {
              "contents": [
                {
                  "narration": "You only have 4 bottles to use at home.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "too many",
              "customProperties": {
                "sourceLocation": 3851,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "too many",
            "children": [],
            "isLink": false,
            "label": "too many",
            "sourceID": "story.abc",
            "sourceLocation": 3851
          },
          "trailhead": {
            "scene": {
              "contents": [
                {
                  "narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
                  "sceneDirections": [
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "{hesitated}",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "parking full",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "parking free",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "trailhead",
              "customProperties": {
                "sourceLocation": 3929,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "parking full",
              "parking free"
            ],
            "id": "trailhead",
            "children": [],
            "isLink": false,
            "label": "trailhead",
            "sourceID": "story.abc",
            "sourceLocation": 3929
          },
          "parking full": {
            "scene": {
              "contents": [
                {
                  "narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "start hike",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "parking full",
              "customProperties": {
                "sourceLocation": 4302,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "start hike"
            ],
            "id": "parking full",
            "children": [],
            "isLink": false,
            "label": "parking full",
            "sourceID": "story.abc",
            "sourceLocation": 4302
          },
          "parking free": {
            "scene": {
              "contents": [
                {
                  "narration": "You pull up to the trailhead and park.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "start hike",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "parking free",
              "customProperties": {
                "sourceLocation": 4659,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "start hike"
            ],
            "id": "parking free",
            "children": [],
            "isLink": false,
            "label": "parking free",
            "sourceID": "story.abc",
            "sourceLocation": 4659
          },
          "start hike": {
            "scene": {
              "contents": [
                {
                  "narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "rest",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "start hike",
              "customProperties": {
                "sourceLocation": 4745,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "rest"
            ],
            "id": "start hike",
            "children": [],
            "isLink": false,
            "label": "start hike",
            "sourceID": "story.abc",
            "sourceLocation": 4745
          },
          "rest": {
            "scene": {
              "contents": [
                {
                  "narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "continue on to the peak"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "continue",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexdIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "call it a day and head down"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "head home",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexeIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "rest",
              "customProperties": {
                "sourceLocation": 5461,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "continue",
              "head home"
            ],
            "id": "rest",
            "children": [],
            "isLink": false,
            "label": "rest",
            "sourceID": "story.abc",
            "sourceLocation": 5461
          },
          "head home": {
            "scene": {
              "contents": [
                {
                  "narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "head home",
              "customProperties": {
                "sourceLocation": 6055,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "head home",
            "children": [],
            "isLink": false,
            "label": "head home",
            "sourceID": "story.abc",
            "sourceLocation": 6055
          },
          "continue": {
            "scene": {
              "contents": [
                {
                  "narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
                  "sceneDirections": [
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "{bottles} <= 1",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "peak fail",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "peak",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "continue",
              "customProperties": {
                "sourceLocation": 6254,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "peak fail",
              "peak"
            ],
            "id": "continue",
            "children": [],
            "isLink": false,
            "label": "continue",
            "sourceID": "story.abc",
            "sourceLocation": 6254
          },
          "peak fail": {
            "scene": {
              "contents": [
                {
                  "narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "peak fail",
              "customProperties": {
                "sourceLocation": 6622,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "peak fail",
            "children": [],
            "isLink": false,
            "label": "peak fail",
            "sourceID": "story.abc",
            "sourceLocation": 6622
          },
          "peak": {
            "scene": {
              "contents": [
                {
                  "narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "peak",
              "customProperties": {
                "sourceLocation": 7312,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "peak",
            "children": [],
            "isLink": false,
            "label": "peak",
            "sourceID": "story.abc",
            "sourceLocation": 7312
          },
          "global prepend": {
            "scene": {
              "contents": [
                {
                  "narration": "",
                  "sceneDirections": [
                    {
                      "directionType": "visuals",
                      "parameters": {
                        "template": "default",
                        "background": "https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg",
                        "title": "Skill Flow Builder",
                        "subtitle": ""
                      }
                    }
                  ]
                }
              ],
              "id": "global prepend",
              "customProperties": {
                "sourceLocation": 8202,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "global prepend",
            "children": [],
            "isLink": false,
            "label": "global prepend",
            "sourceID": "story.abc",
            "sourceLocation": 8202
          },
          "global append": {
            "scene": {
              "contents": [
                {
                  "narration": "",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "start over",
                          "restart"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "restart",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.StartOverIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "repeat"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "repeat",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.RepeatIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "help"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "help",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.HelpIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "go back"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "back",
                            "parameters": {
                              "count": 1
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.PreviousIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "!{helped}",
                        "directions": [
                          {
                            "directionType": "choice",
                            "parameters": {
                              "utterances": [
                                "*"
                              ],
                              "saveToHistory": "true",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "help",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ],
                              "utteranceIDs": []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "global append",
              "customProperties": {
                "sourceLocation": 8567,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "help"
            ],
            "id": "global append",
            "children": [],
            "isLink": false,
            "label": "global append",
            "sourceID": "story.abc",
            "sourceLocation": 8567
          },
          "resume": {
            "scene": {
              "contents": [
                {
                  "narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "{resume}",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "restart",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "resume",
              "customProperties": {
                "sourceLocation": 9408,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "resume",
            "children": [],
            "isLink": false,
            "label": "resume",
            "sourceID": "story.abc",
            "sourceLocation": 9408
          },
          "pause": {
            "scene": {
              "contents": [
                {
                  "narration": "Thanks for playing.",
                  "sceneDirections": [
                    {
                      "directionType": "pause",
                      "parameters": {}
                    }
                  ]
                }
              ],
              "id": "pause",
              "customProperties": {
                "sourceLocation": 9727,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "pause",
            "children": [],
            "isLink": false,
            "label": "pause",
            "sourceID": "story.abc",
            "sourceLocation": 9727
          },
          "end": {
            "scene": {
              "contents": [
                {
                  "narration": "Thanks for playing. Would you like to start over or take a break?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "take a break"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "ending",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "flexfIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "end",
              "customProperties": {
                "sourceLocation": 9781,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "end",
            "children": [],
            "isLink": false,
            "label": "end",
            "sourceID": "story.abc",
            "sourceLocation": 9781
          },
          "help": {
            "scene": {
              "contents": [
                {
                  "narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.",
                  "sceneDirections": [
                    {
                      "directionType": "flag",
                      "parameters": {
                        "variableName": "helped"
                      }
                    },
                    {
                      "directionType": "back",
                      "parameters": {
                        "count": 1
                      }
                    }
                  ]
                }
              ],
              "id": "help",
              "customProperties": {
                "sourceLocation": 9904,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "help",
            "children": [],
            "isLink": false,
            "label": "help",
            "sourceID": "story.abc",
            "sourceLocation": 9904
          }
        },
        "sceneRefs": {
          "start": {
            "contents": [
              {
                "narration": "Good morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
                "sceneDirections": [
                  {
                    "directionType": "clear",
                    "parameters": {
                      "variableName": "hesitated"
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes",
                        "go on a hike"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "get ready",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent",
                        "flexaIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "flag",
                          "parameters": {
                            "variableName": "hesitated"
                          }
                        },
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "hesitate",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "start",
            "customProperties": {
              "sourceLocation": 226,
              "sourceID": "story.abc"
            }
          },
          "hesitate": {
            "contents": [
              {
                "narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes",
                        "go on a hike",
                        "reconsider"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "get ready",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent",
                        "flexaIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "do not go on a hike",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "great"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "end",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexbIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "hesitate",
            "customProperties": {
              "sourceLocation": 1210,
              "sourceID": "story.abc"
            }
          },
          "do not go on a hike": {
            "contents": [
              {
                "narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "do not go on a hike",
            "customProperties": {
              "sourceLocation": 1653,
              "sourceID": "story.abc"
            }
          },
          "get ready": {
            "contents": [
              {
                "narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
                "sceneDirections": [
                  {
                    "directionType": "recap",
                    "parameters": {
                      "message": "You pick a hiking destination, get dressed, and pack your gear."
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "get ready",
            "customProperties": {
              "sourceLocation": 1847,
              "sourceID": "story.abc"
            }
          },
          "water": {
            "contents": [
              {
                "narration": "How many bottles of water would you like to take with you?",
                "sceneDirections": [
                  {
                    "directionType": "reprompt",
                    "parameters": {
                      "message": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?"
                    }
                  },
                  {
                    "directionType": "slot",
                    "parameters": {
                      "variableName": "bottles",
                      "variableType": "AMAZON.NUMBER"
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "{bottles}",
                        "{bottles} bottle",
                        "{bottles} bottles"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "condition",
                          "parameters": {
                            "condition": "{bottles} <= 0",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "not enough",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "directionType": "condition",
                          "parameters": {
                            "condition": "{bottles} > 4",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "too many",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "trailhead",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": []
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no",
                        "none"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "not enough",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent",
                        "flexcIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "water",
            "customProperties": {
              "sourceLocation": 2457,
              "sourceID": "story.abc"
            }
          },
          "not enough": {
            "contents": [
              {
                "narration": "You need at least some water.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "not enough",
            "customProperties": {
              "sourceLocation": 3687,
              "sourceID": "story.abc"
            }
          },
          "too many": {
            "contents": [
              {
                "narration": "You only have 4 bottles to use at home.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "too many",
            "customProperties": {
              "sourceLocation": 3851,
              "sourceID": "story.abc"
            }
          },
          "trailhead": {
            "contents": [
              {
                "narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
                "sceneDirections": [
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "{hesitated}",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "parking full",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "parking free",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "trailhead",
            "customProperties": {
              "sourceLocation": 3929,
              "sourceID": "story.abc"
            }
          },
          "parking full": {
            "contents": [
              {
                "narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "start hike",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "parking full",
            "customProperties": {
              "sourceLocation": 4302,
              "sourceID": "story.abc"
            }
          },
          "parking free": {
            "contents": [
              {
                "narration": "You pull up to the trailhead and park.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "start hike",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "parking free",
            "customProperties": {
              "sourceLocation": 4659,
              "sourceID": "story.abc"
            }
          },
          "start hike": {
            "contents": [
              {
                "narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "rest",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "start hike",
            "customProperties": {
              "sourceLocation": 4745,
              "sourceID": "story.abc"
            }
          },
          "rest": {
            "contents": [
              {
                "narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "continue on to the peak"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "continue",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexdIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "call it a day and head down"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "head home",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexeIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "rest",
            "customProperties": {
              "sourceLocation": 5461,
              "sourceID": "story.abc"
            }
          },
          "head home": {
            "contents": [
              {
                "narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "head home",
            "customProperties": {
              "sourceLocation": 6055,
              "sourceID": "story.abc"
            }
          },
          "continue": {
            "contents": [
              {
                "narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
                "sceneDirections": [
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "{bottles} <= 1",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "peak fail",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "peak",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "continue",
            "customProperties": {
              "sourceLocation": 6254,
              "sourceID": "story.abc"
            }
          },
          "peak fail": {
            "contents": [
              {
                "narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "peak fail",
            "customProperties": {
              "sourceLocation": 6622,
              "sourceID": "story.abc"
            }
          },
          "peak": {
            "contents": [
              {
                "narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "peak",
            "customProperties": {
              "sourceLocation": 7312,
              "sourceID": "story.abc"
            }
          },
          "global prepend": {
            "contents": [
              {
                "narration": "",
                "sceneDirections": [
                  {
                    "directionType": "visuals",
                    "parameters": {
                      "template": "default",
                      "background": "https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg",
                      "title": "Skill Flow Builder",
                      "subtitle": ""
                    }
                  }
                ]
              }
            ],
            "id": "global prepend",
            "customProperties": {
              "sourceLocation": 8202,
              "sourceID": "story.abc"
            }
          },
          "global append": {
            "contents": [
              {
                "narration": "",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "start over",
                        "restart"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "restart",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.StartOverIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "repeat"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "repeat",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.RepeatIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "help"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "help",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.HelpIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "go back"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "back",
                          "parameters": {
                            "count": 1
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.PreviousIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "!{helped}",
                      "directions": [
                        {
                          "directionType": "choice",
                          "parameters": {
                            "utterances": [
                              "*"
                            ],
                            "saveToHistory": "true",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "help",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ],
                            "utteranceIDs": []
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "global append",
            "customProperties": {
              "sourceLocation": 8567,
              "sourceID": "story.abc"
            }
          },
          "resume": {
            "contents": [
              {
                "narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "{resume}",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "restart",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "resume",
            "customProperties": {
              "sourceLocation": 9408,
              "sourceID": "story.abc"
            }
          },
          "pause": {
            "contents": [
              {
                "narration": "Thanks for playing.",
                "sceneDirections": [
                  {
                    "directionType": "pause",
                    "parameters": {}
                  }
                ]
              }
            ],
            "id": "pause",
            "customProperties": {
              "sourceLocation": 9727,
              "sourceID": "story.abc"
            }
          },
          "end": {
            "contents": [
              {
                "narration": "Thanks for playing. Would you like to start over or take a break?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "take a break"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "ending",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "flexfIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "end",
            "customProperties": {
              "sourceLocation": 9781,
              "sourceID": "story.abc"
            }
          },
          "help": {
            "contents": [
              {
                "narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.",
                "sceneDirections": [
                  {
                    "directionType": "flag",
                    "parameters": {
                      "variableName": "helped"
                    }
                  },
                  {
                    "directionType": "back",
                    "parameters": {
                      "count": 1
                    }
                  }
                ]
              }
            ],
            "id": "help",
            "customProperties": {
              "sourceLocation": 9904,
              "sourceID": "story.abc"
            }
          }
        }
      },
      "jsonWithExtensions": null,
      "importSuccessful": true,
      "allProjectFileNames": [
        "story.abc"
      ],
      "isRestoreBackUpModalOpen": false,
      "currentFile": "story.abc",
      "isNewProjectModalOpen": false,
      "name": "sample",
      "awsProfileName": "default",
      "projectState": "Opened"
    },
    "build": {
      "isPerformingBuildAction": false,
      "buildOutput": "",
      "isBuildOutputOpen": false
    },
    "logger": {},
    "images": {
      "files": [
        {
          "filename": "sample_image.png"
        }
      ]
    },
    "audio": {
      "files": [
        {
          "filename": "trumpet_1.mp3"
        }
      ]
    },
    "notes": {
      "source": ""
    },
    "languageStrings": {
      "langObj": {
        "en-US": {
          "translation": {
            "start.narration": "Good morning! You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
            "utterance-yes": "yes",
            "utterance-go on a hike": "go on a hike",
            "utterance-no": "no",
            "utterance-start over": "start over",
            "utterance-restart": "restart",
            "utterance-repeat": "repeat",
            "utterance-help": "help",
            "utterance-go back": "go back",
            "hesitate.narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
            "utterance-reconsider": "reconsider",
            "utterance-great": "great",
            "do not go on a hike.narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
            "get ready.narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
            "get ready.recap": "You pick a hiking destination, get dressed, and pack your gear.",
            "water.narration": "How many bottles of water would you like to take with you?",
            "water.reprompt": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?",
            "utterance-{bottles}": "{bottles}",
            "utterance-{bottles} bottle": "{bottles} bottle",
            "utterance-{bottles} bottles": "{bottles} bottles",
            "utterance-none": "none",
            "not enough.narration": "You need at least some water.",
            "too many.narration": "You only have 4 bottles to use at home.",
            "trailhead.narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
            "parking full.narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
            "parking free.narration": "You pull up to the trailhead and park.",
            "start hike.narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
            "rest.narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
            "utterance-continue on to the peak": "continue on to the peak",
            "utterance-call it a day and head down": "call it a day and head down",
            "head home.narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
            "continue.narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
            "peak fail.narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
            "peak.narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
            "resume.narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
            "pause.narration": "Thanks for playing.",
            "end.narration": "Thanks for playing. Would you like to start over or take a break?",
            "utterance-take a break": "take a break",
            "help.narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off."
          }
        }
      }
    }
  },
  "saves a project": {
    "router": {
      "location": {
        "pathname": "/",
        "search": "",
        "hash": ""
      },
      "action": "POP"
    },
    "workspace": {
      "selectedSceneId": "start",
      "selectedSceneHistory": [],
      "currentLocale": "en-US",
      "syntaxErrors": [],
      "mapType": "tree",
      "isStacked": false,
      "primaryMode": "Source",
      "secondaryMode": "Map",
      "editorLocale": "en-US",
      "experimentalModeEnabled": false,
      "recentProjectList": [
        {
          "name": "sample"
        }
      ]
    },
    "simulator": {
      "response": null,
      "isRunning": false,
      "showSpinner": false,
      "isPollyPreview": true,
      "pollyPreviewAccessTokenInfo": {
        "accessToken": "",
        "timestamp": 0
      }
    },
    "slotTypes": {
      "types": [
        {
          "name": "CustomFruitType",
          "values": [
            "apple",
            "pear",
            "orange"
          ]
        }
      ]
    },
    "snippets": {
      "snippets": [
        {
          "short": "sfx",
          "long": "<audio src='$SNIPPET_S3_RESOURCES_URI/audio/$1'/>"
        },
        {
          "short": "pic",
          "long": "$SNIPPET_S3_RESOURCES_URI/images/$1"
        },
        {
          "short": "trumpet",
          "long": "<audio src='https://sfb-framework.s3.amazonaws.com/examples/sounds/Trumpet_1.mp3' />"
        },
        {
          "short": "pause for",
          "long": "<break time='$1'/>"
        },
        {
          "short": "pause",
          "long": "<break time='1s'/>"
        },
        {
          "short": "shortPause",
          "long": "<break time='0.5s'/>"
        },
        {
          "short": "kid",
          "long": "<voice name='Justin'>"
        },
        {
          "short": "/kid",
          "long": "</voice>"
        },
        {
          "short": "ocean wave",
          "long": "<audio src='https://sfb-framework.s3.amazonaws.com/examples/sounds/ocean_wave.mp3'/>"
        }
      ],
      "hasError": false,
      "errorMessage": ""
    },
    "project": {
      "source": "// SPECIAL SCENE: @start is a special scene that tells the framework to start your game at this scene. It can be anywhere on your file. If no @start scene is present, the framework will start with the first scene in the file.\n@start\n\t*say\n\t\tGood morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?\n\t*then\n\t\t// Clear the flag called 'hesitated' in case it was set in a previous play-through.\n\t\tclear hesitated\n\t\t// Listen for affirmative response phrases from the player and continue the game accordingly. Note: the phrase 'yes' will get automatically mapped to the AMAZON.YesIntent so that it will catch responses like \"yep\" and many others.\n        hear yes, go on a hike {\n\t\t\t// go to the '@get ready' scene.\n            -> get ready\n        }\n\t\t// Listen for negative response phrases from the player and continue the game accordingly. Note: the phrase 'no' will get automatically mapped to the AMAZON.NoIntent so that it will catch responses like \"nope\" and many others.\n        hear no {\n\t\t\t// Remember that the player hesitated so we can use that decision later in the game.\n            flag hesitated\n            -> hesitate\n        }\n\n@hesitate\n\t*say\n\t\tYou spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?\n\t*then\n\t\thear yes, go on a hike, reconsider {\n            -> get ready\n        }\n        hear no {\n            -> do not go on a hike\n        }\n\t\thear great {\n\t\t\t-> end\n\t\t}\n\n@do not go on a hike\n\t*say\n\t\tYou continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.\n\t*then\n\t\t-> end\n\n@get ready\n\t*say\n\t\tYay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!\n\t// Define a shortened '*recap' which the player will hear anytime this scene is repeated after the first time.\n\t*recap\n\t\tYou pick a hiking destination, get dressed, and pack your gear.\n\t*then\n\t\t-> water\n\n\n@water\n\t*say\n\t\tHow many bottles of water would you like to take with you?\n\t// Define a '*reprompt' to play if we don't understand the player's response.\n\t*reprompt\n\t\tI'd recommend one to three bottles of water. How many bottles of water would you like to take with you?\n\t*then\n\t\t// Tell the framework that it should listen for a number when we ask it to listen for {bottles}\n\t\tslot bottles to 'AMAZON.NUMBER'\n\t\t// Listen for a number or a number folowed by the phrase 'bottle' or 'bottles' and remember that number as 'bottles'\n\t\thear {bottles}, {bottles} bottle, {bottles} bottles {\n\t\t\t// if the player said zero, tell the player they need to bring water\n            if bottles <= 0 {\n                -> not enough\n            }\n\t\t\t// if the player said more that 4 bottles of water, tell the player that is too much\n            if bottles > 4 {\n                -> too many\n            }\n\t\t\t// if the player said between 1 and 4 bottles of water, keep playing\n            -> trailhead\n        }\n\t\t// If the player refuses or says 'none', tell the player to bring water. Hydration is important.\n\t\thear no, none {\n\t\t\t-> not enough\n\t\t}\n\n// Give a reason why the player can't proceed and route back to ask how many bottles of water.\n@not enough\n\t*say\n\t\tYou need at least some water.\n\t*then\n\t\t-> water\n\n// Give a reason why the player can't proceed and route back to ask how many bottles of water.\n@too many\n\t*say\n\t\tYou only have 4 bottles to use at home.\n\t*then\n\t\t-> water\n\n\n@trailhead\n\t*say\n\t\tYou fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.\n\t*then\n\t\t// The parking lot is now full if the player hesitated before deciding to go on a hike.\n\t\tif hesitated {\n            -> parking full\n        }\n        -> parking free\n\n\n@parking full\n\t*say\n\t\tYou pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.\n\t*then\n\t\t-> start hike\n\n\n@parking free\n\t*say\n\t\tYou pull up to the trailhead and park.\n\t*then\n\t\t-> start hike\n\n\n@start hike\n\t*say\n\t\tYou start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.\n\t*then\n\t\t-> rest\n\n\n@rest\n\t*say\n\t\tYou take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?\n\t*then\n\t\thear continue on to the peak {\n            -> continue\n        }\n        hear call it a day and head down {\n            -> head home\n        }\n\n\n@head home\n\t*say\n\t\tYou rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.\n\t*then\n\t\t-> end\n\n@continue\n\t*say\n\t\tYou get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.\n\t*then\n\t\t// The player can't make it to the peak if the player didn't bring enough water.\n\t\tif bottles <= 1 {\n            -> peak fail\n        }\n        -> peak\n\n\n@peak fail\n\t*say\n\t\tAbout half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.\n\t*then\n\t\t-> end\n\n@peak\n\t*say\n\t\tYou stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.\n\t*then\n\t\t-> end\n\n// SPECIAL SCENE: \"@global prepend\" is a special scene and allows you to add content or instructions to the start of every scene set\n@global prepend\n    *show\n        // add visuals to every scene\n        template: 'default'\n        background:'https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg'\n        title: 'Skill Flow Builder'\n        subtitle: ''\n\n// SPECIAL SCENE: \"@global append\" is a special scene and allows you to add content or instructions to the end of every scene set\n@global append\n    *then\n        // listen everywhere for a few helpful phrases\n        hear start over, restart {\n            // Tell the framework to restart from the beginning\n            >> RESTART\n        }\n        hear repeat {\n            // Tell the framework to repeat everything the player just heard. You can use >> REPROMPT which only plays the reprompt content\n            >> REPEAT\n        }\n        hear help {\n            -> help\n        }\n        hear go back {\n            >> back\n        }\n        // if the player hasn't heard the help message yet and says something the framework didn't catch, play the help message\n        if !helped {\n            hear * {\n                -> help\n            }\n        }\n\n// SPECIAL SCENE: @resume is a special scene that will play when the player comes back to the game after leaving\n@resume\n\t*say\n\t\tWelcome back to your hiking story. Would you like to pick up where you last left off?\n\t*then\n\t\thear yes {\n            // Tell the framework to pick up where they last left off\n\t\t\t>> RESUME\n\t\t}\n\t\thear no {\n\t\t\t>> RESTART\n\t\t}\n\n// SPECIAL SCENE: @pause is a special scene that plays before the skill pauses\n@pause\n\t*say\n\t\tThanks for playing.\n\t*then\n\t\t>> PAUSE\n\n@end\n\t*say\n\t\tThanks for playing. Would you like to start over or take a break?\n\t*then\n\t\thear take a break {\n\t\t\t>> END\n\t\t}\n\n@help\n    *say\n        Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.\n    *then\n        // flag that player has heard this\n        flag helped\n\n        // go back to last scene.\n        >> BACK\n",
      "json": {
        "pluginName": "default",
        "scenes": [
          {
            "contents": [
              {
                "narration": "Good morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
                "sceneDirections": [
                  {
                    "directionType": "clear",
                    "parameters": {
                      "variableName": "hesitated"
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes",
                        "go on a hike"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "get ready",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent",
                        "flexaIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "flag",
                          "parameters": {
                            "variableName": "hesitated"
                          }
                        },
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "hesitate",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "start",
            "customProperties": {
              "sourceLocation": 226,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes",
                        "go on a hike",
                        "reconsider"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "get ready",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent",
                        "flexaIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "do not go on a hike",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "great"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "end",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexbIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "hesitate",
            "customProperties": {
              "sourceLocation": 1210,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "do not go on a hike",
            "customProperties": {
              "sourceLocation": 1653,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
                "sceneDirections": [
                  {
                    "directionType": "recap",
                    "parameters": {
                      "message": "You pick a hiking destination, get dressed, and pack your gear."
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "get ready",
            "customProperties": {
              "sourceLocation": 1847,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "How many bottles of water would you like to take with you?",
                "sceneDirections": [
                  {
                    "directionType": "reprompt",
                    "parameters": {
                      "message": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?"
                    }
                  },
                  {
                    "directionType": "slot",
                    "parameters": {
                      "variableName": "bottles",
                      "variableType": "AMAZON.NUMBER"
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "{bottles}",
                        "{bottles} bottle",
                        "{bottles} bottles"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "condition",
                          "parameters": {
                            "condition": "{bottles} <= 0",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "not enough",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "directionType": "condition",
                          "parameters": {
                            "condition": "{bottles} > 4",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "too many",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "trailhead",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": []
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no",
                        "none"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "not enough",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent",
                        "flexcIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "water",
            "customProperties": {
              "sourceLocation": 2457,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You need at least some water.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "not enough",
            "customProperties": {
              "sourceLocation": 3687,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You only have 4 bottles to use at home.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "too many",
            "customProperties": {
              "sourceLocation": 3851,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
                "sceneDirections": [
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "{hesitated}",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "parking full",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "parking free",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "trailhead",
            "customProperties": {
              "sourceLocation": 3929,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "start hike",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "parking full",
            "customProperties": {
              "sourceLocation": 4302,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You pull up to the trailhead and park.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "start hike",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "parking free",
            "customProperties": {
              "sourceLocation": 4659,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "rest",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "start hike",
            "customProperties": {
              "sourceLocation": 4745,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "continue on to the peak"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "continue",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexdIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "call it a day and head down"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "head home",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexeIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "rest",
            "customProperties": {
              "sourceLocation": 5461,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "head home",
            "customProperties": {
              "sourceLocation": 6055,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
                "sceneDirections": [
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "{bottles} <= 1",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "peak fail",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "peak",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "continue",
            "customProperties": {
              "sourceLocation": 6254,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "peak fail",
            "customProperties": {
              "sourceLocation": 6622,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "peak",
            "customProperties": {
              "sourceLocation": 7312,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "",
                "sceneDirections": [
                  {
                    "directionType": "visuals",
                    "parameters": {
                      "template": "default",
                      "background": "https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg",
                      "title": "Skill Flow Builder",
                      "subtitle": ""
                    }
                  }
                ]
              }
            ],
            "id": "global prepend",
            "customProperties": {
              "sourceLocation": 8202,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "start over",
                        "restart"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "restart",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.StartOverIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "repeat"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "repeat",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.RepeatIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "help"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "help",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.HelpIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "go back"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "back",
                          "parameters": {
                            "count": 1
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.PreviousIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "!{helped}",
                      "directions": [
                        {
                          "directionType": "choice",
                          "parameters": {
                            "utterances": [
                              "*"
                            ],
                            "saveToHistory": "true",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "help",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ],
                            "utteranceIDs": []
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "global append",
            "customProperties": {
              "sourceLocation": 8567,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "{resume}",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "restart",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "resume",
            "customProperties": {
              "sourceLocation": 9408,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Thanks for playing.",
                "sceneDirections": [
                  {
                    "directionType": "pause",
                    "parameters": {}
                  }
                ]
              }
            ],
            "id": "pause",
            "customProperties": {
              "sourceLocation": 9727,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Thanks for playing. Would you like to start over or take a break?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "take a break"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "ending",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "flexfIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "end",
            "customProperties": {
              "sourceLocation": 9781,
              "sourceID": "story.abc"
            }
          },
          {
            "contents": [
              {
                "narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.",
                "sceneDirections": [
                  {
                    "directionType": "flag",
                    "parameters": {
                      "variableName": "helped"
                    }
                  },
                  {
                    "directionType": "back",
                    "parameters": {
                      "count": 1
                    }
                  }
                ]
              }
            ],
            "id": "help",
            "customProperties": {
              "sourceLocation": 9904,
              "sourceID": "story.abc"
            }
          }
        ],
        "storyID": "Test",
        "storyTitle": "Test",
        "alexaVoiceModel": {
          "languageModel": {
            "intents": [
              {
                "name": "flexaIntent",
                "samples": [
                  "go on a hike",
                  "reconsider"
                ]
              },
              {
                "name": "flexbIntent",
                "samples": [
                  "great"
                ]
              },
              {
                "name": "CatchAllSlotIntent",
                "samples": [
                  "{bottles}",
                  "{bottles} bottle",
                  "{bottles} bottles"
                ],
                "slots": [
                  {
                    "name": "bottles",
                    "type": "AMAZON.NUMBER"
                  }
                ]
              },
              {
                "name": "flexcIntent",
                "samples": [
                  "none"
                ]
              },
              {
                "name": "flexdIntent",
                "samples": [
                  "continue on to the peak"
                ]
              },
              {
                "name": "flexeIntent",
                "samples": [
                  "call it a day and head down"
                ]
              },
              {
                "name": "flexfIntent",
                "samples": [
                  "take a break"
                ]
              },
              {
                "name": "AMAZON.CancelIntent"
              },
              {
                "name": "AMAZON.HelpIntent"
              },
              {
                "name": "AMAZON.LoopOffIntent"
              },
              {
                "name": "AMAZON.LoopOnIntent"
              },
              {
                "name": "AMAZON.NextIntent"
              },
              {
                "name": "AMAZON.NoIntent"
              },
              {
                "name": "AMAZON.PauseIntent"
              },
              {
                "name": "AMAZON.PreviousIntent"
              },
              {
                "name": "AMAZON.RepeatIntent"
              },
              {
                "name": "AMAZON.ResumeIntent"
              },
              {
                "name": "AMAZON.ShuffleOffIntent"
              },
              {
                "name": "AMAZON.ShuffleOnIntent"
              },
              {
                "name": "AMAZON.StartOverIntent"
              },
              {
                "name": "AMAZON.StopIntent"
              },
              {
                "name": "AMAZON.YesIntent"
              },
              {
                "name": "AMAZON.ScrollUpIntent"
              },
              {
                "name": "AMAZON.ScrollLeftIntent"
              },
              {
                "name": "AMAZON.ScrollDownIntent"
              },
              {
                "name": "AMAZON.ScrollRightIntent"
              },
              {
                "name": "AMAZON.PageUpIntent"
              },
              {
                "name": "AMAZON.PageDownIntent"
              },
              {
                "name": "AMAZON.MoreIntent"
              },
              {
                "name": "AMAZON.FallbackIntent"
              }
            ],
            "invocationName": "Test"
          }
        }
      },
      "graphElements": {
        "nodes": [
          {
            "scene": {
              "contents": [
                {
                  "narration": "Good morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
                  "sceneDirections": [
                    {
                      "directionType": "clear",
                      "parameters": {
                        "variableName": "hesitated"
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes",
                          "go on a hike"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "get ready",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent",
                          "flexaIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "flag",
                            "parameters": {
                              "variableName": "hesitated"
                            }
                          },
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "hesitate",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "start",
              "customProperties": {
                "sourceLocation": 226,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "get ready",
              "hesitate"
            ],
            "id": "start",
            "children": [],
            "isLink": false,
            "label": "start",
            "sourceID": "story.abc",
            "sourceLocation": 226
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes",
                          "go on a hike",
                          "reconsider"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "get ready",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent",
                          "flexaIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "do not go on a hike",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "great"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "end",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexbIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "hesitate",
              "customProperties": {
                "sourceLocation": 1210,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "get ready",
              "do not go on a hike",
              "end"
            ],
            "id": "hesitate",
            "children": [],
            "isLink": false,
            "label": "hesitate",
            "sourceID": "story.abc",
            "sourceLocation": 1210
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "do not go on a hike",
              "customProperties": {
                "sourceLocation": 1653,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "do not go on a hike",
            "children": [],
            "isLink": false,
            "label": "do not go on a hike",
            "sourceID": "story.abc",
            "sourceLocation": 1653
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
                  "sceneDirections": [
                    {
                      "directionType": "recap",
                      "parameters": {
                        "message": "You pick a hiking destination, get dressed, and pack your gear."
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "get ready",
              "customProperties": {
                "sourceLocation": 1847,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "get ready",
            "children": [],
            "isLink": false,
            "label": "get ready",
            "sourceID": "story.abc",
            "sourceLocation": 1847
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "How many bottles of water would you like to take with you?",
                  "sceneDirections": [
                    {
                      "directionType": "reprompt",
                      "parameters": {
                        "message": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?"
                      }
                    },
                    {
                      "directionType": "slot",
                      "parameters": {
                        "variableName": "bottles",
                        "variableType": "AMAZON.NUMBER"
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "{bottles}",
                          "{bottles} bottle",
                          "{bottles} bottles"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "condition",
                            "parameters": {
                              "condition": "{bottles} <= 0",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "not enough",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "directionType": "condition",
                            "parameters": {
                              "condition": "{bottles} > 4",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "too many",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "trailhead",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": []
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no",
                          "none"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "not enough",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent",
                          "flexcIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "water",
              "customProperties": {
                "sourceLocation": 2457,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "not enough",
              "too many",
              "trailhead"
            ],
            "id": "water",
            "children": [],
            "isLink": false,
            "label": "water",
            "sourceID": "story.abc",
            "sourceLocation": 2457
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You need at least some water.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "not enough",
              "customProperties": {
                "sourceLocation": 3687,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "not enough",
            "children": [],
            "isLink": false,
            "label": "not enough",
            "sourceID": "story.abc",
            "sourceLocation": 3687
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You only have 4 bottles to use at home.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "too many",
              "customProperties": {
                "sourceLocation": 3851,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "too many",
            "children": [],
            "isLink": false,
            "label": "too many",
            "sourceID": "story.abc",
            "sourceLocation": 3851
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
                  "sceneDirections": [
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "{hesitated}",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "parking full",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "parking free",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "trailhead",
              "customProperties": {
                "sourceLocation": 3929,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "parking full",
              "parking free"
            ],
            "id": "trailhead",
            "children": [],
            "isLink": false,
            "label": "trailhead",
            "sourceID": "story.abc",
            "sourceLocation": 3929
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "start hike",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "parking full",
              "customProperties": {
                "sourceLocation": 4302,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "start hike"
            ],
            "id": "parking full",
            "children": [],
            "isLink": false,
            "label": "parking full",
            "sourceID": "story.abc",
            "sourceLocation": 4302
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You pull up to the trailhead and park.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "start hike",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "parking free",
              "customProperties": {
                "sourceLocation": 4659,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "start hike"
            ],
            "id": "parking free",
            "children": [],
            "isLink": false,
            "label": "parking free",
            "sourceID": "story.abc",
            "sourceLocation": 4659
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "rest",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "start hike",
              "customProperties": {
                "sourceLocation": 4745,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "rest"
            ],
            "id": "start hike",
            "children": [],
            "isLink": false,
            "label": "start hike",
            "sourceID": "story.abc",
            "sourceLocation": 4745
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "continue on to the peak"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "continue",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexdIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "call it a day and head down"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "head home",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexeIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "rest",
              "customProperties": {
                "sourceLocation": 5461,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "continue",
              "head home"
            ],
            "id": "rest",
            "children": [],
            "isLink": false,
            "label": "rest",
            "sourceID": "story.abc",
            "sourceLocation": 5461
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "head home",
              "customProperties": {
                "sourceLocation": 6055,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "head home",
            "children": [],
            "isLink": false,
            "label": "head home",
            "sourceID": "story.abc",
            "sourceLocation": 6055
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
                  "sceneDirections": [
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "{bottles} <= 1",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "peak fail",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "peak",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "continue",
              "customProperties": {
                "sourceLocation": 6254,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "peak fail",
              "peak"
            ],
            "id": "continue",
            "children": [],
            "isLink": false,
            "label": "continue",
            "sourceID": "story.abc",
            "sourceLocation": 6254
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "peak fail",
              "customProperties": {
                "sourceLocation": 6622,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "peak fail",
            "children": [],
            "isLink": false,
            "label": "peak fail",
            "sourceID": "story.abc",
            "sourceLocation": 6622
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "peak",
              "customProperties": {
                "sourceLocation": 7312,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "peak",
            "children": [],
            "isLink": false,
            "label": "peak",
            "sourceID": "story.abc",
            "sourceLocation": 7312
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "",
                  "sceneDirections": [
                    {
                      "directionType": "visuals",
                      "parameters": {
                        "template": "default",
                        "background": "https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg",
                        "title": "Skill Flow Builder",
                        "subtitle": ""
                      }
                    }
                  ]
                }
              ],
              "id": "global prepend",
              "customProperties": {
                "sourceLocation": 8202,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "global prepend",
            "children": [],
            "isLink": false,
            "label": "global prepend",
            "sourceID": "story.abc",
            "sourceLocation": 8202
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "start over",
                          "restart"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "restart",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.StartOverIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "repeat"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "repeat",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.RepeatIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "help"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "help",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.HelpIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "go back"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "back",
                            "parameters": {
                              "count": 1
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.PreviousIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "!{helped}",
                        "directions": [
                          {
                            "directionType": "choice",
                            "parameters": {
                              "utterances": [
                                "*"
                              ],
                              "saveToHistory": "true",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "help",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ],
                              "utteranceIDs": []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "global append",
              "customProperties": {
                "sourceLocation": 8567,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "help"
            ],
            "id": "global append",
            "children": [],
            "isLink": false,
            "label": "global append",
            "sourceID": "story.abc",
            "sourceLocation": 8567
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "{resume}",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "restart",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "resume",
              "customProperties": {
                "sourceLocation": 9408,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "resume",
            "children": [],
            "isLink": false,
            "label": "resume",
            "sourceID": "story.abc",
            "sourceLocation": 9408
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Thanks for playing.",
                  "sceneDirections": [
                    {
                      "directionType": "pause",
                      "parameters": {}
                    }
                  ]
                }
              ],
              "id": "pause",
              "customProperties": {
                "sourceLocation": 9727,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "pause",
            "children": [],
            "isLink": false,
            "label": "pause",
            "sourceID": "story.abc",
            "sourceLocation": 9727
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Thanks for playing. Would you like to start over or take a break?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "take a break"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "ending",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "flexfIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "end",
              "customProperties": {
                "sourceLocation": 9781,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "end",
            "children": [],
            "isLink": false,
            "label": "end",
            "sourceID": "story.abc",
            "sourceLocation": 9781
          },
          {
            "scene": {
              "contents": [
                {
                  "narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.",
                  "sceneDirections": [
                    {
                      "directionType": "flag",
                      "parameters": {
                        "variableName": "helped"
                      }
                    },
                    {
                      "directionType": "back",
                      "parameters": {
                        "count": 1
                      }
                    }
                  ]
                }
              ],
              "id": "help",
              "customProperties": {
                "sourceLocation": 9904,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "help",
            "children": [],
            "isLink": false,
            "label": "help",
            "sourceID": "story.abc",
            "sourceLocation": 9904
          }
        ],
        "edges": [
          {
            "from": "start",
            "to": "get ready"
          },
          {
            "from": "start",
            "to": "hesitate"
          },
          {
            "from": "hesitate",
            "to": "get ready"
          },
          {
            "from": "hesitate",
            "to": "do not go on a hike"
          },
          {
            "from": "hesitate",
            "to": "end"
          },
          {
            "from": "do not go on a hike",
            "to": "end"
          },
          {
            "from": "get ready",
            "to": "water"
          },
          {
            "from": "water",
            "to": "not enough"
          },
          {
            "from": "water",
            "to": "too many"
          },
          {
            "from": "water",
            "to": "trailhead"
          },
          {
            "from": "not enough",
            "to": "water"
          },
          {
            "from": "too many",
            "to": "water"
          },
          {
            "from": "trailhead",
            "to": "parking full"
          },
          {
            "from": "trailhead",
            "to": "parking free"
          },
          {
            "from": "parking full",
            "to": "start hike"
          },
          {
            "from": "parking free",
            "to": "start hike"
          },
          {
            "from": "start hike",
            "to": "rest"
          },
          {
            "from": "rest",
            "to": "continue"
          },
          {
            "from": "rest",
            "to": "head home"
          },
          {
            "from": "head home",
            "to": "end"
          },
          {
            "from": "continue",
            "to": "peak fail"
          },
          {
            "from": "continue",
            "to": "peak"
          },
          {
            "from": "peak fail",
            "to": "end"
          },
          {
            "from": "peak",
            "to": "end"
          },
          {
            "from": "global append",
            "to": "help"
          },
          {
            "from": "global append",
            "to": "help"
          }
        ],
        "nodeRefs": {
          "start": {
            "scene": {
              "contents": [
                {
                  "narration": "Good morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
                  "sceneDirections": [
                    {
                      "directionType": "clear",
                      "parameters": {
                        "variableName": "hesitated"
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes",
                          "go on a hike"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "get ready",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent",
                          "flexaIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "flag",
                            "parameters": {
                              "variableName": "hesitated"
                            }
                          },
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "hesitate",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "start",
              "customProperties": {
                "sourceLocation": 226,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "get ready",
              "hesitate"
            ],
            "id": "start",
            "children": [],
            "isLink": false,
            "label": "start",
            "sourceID": "story.abc",
            "sourceLocation": 226
          },
          "hesitate": {
            "scene": {
              "contents": [
                {
                  "narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes",
                          "go on a hike",
                          "reconsider"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "get ready",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent",
                          "flexaIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "do not go on a hike",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "great"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "end",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexbIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "hesitate",
              "customProperties": {
                "sourceLocation": 1210,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "get ready",
              "do not go on a hike",
              "end"
            ],
            "id": "hesitate",
            "children": [],
            "isLink": false,
            "label": "hesitate",
            "sourceID": "story.abc",
            "sourceLocation": 1210
          },
          "do not go on a hike": {
            "scene": {
              "contents": [
                {
                  "narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "do not go on a hike",
              "customProperties": {
                "sourceLocation": 1653,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "do not go on a hike",
            "children": [],
            "isLink": false,
            "label": "do not go on a hike",
            "sourceID": "story.abc",
            "sourceLocation": 1653
          },
          "get ready": {
            "scene": {
              "contents": [
                {
                  "narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
                  "sceneDirections": [
                    {
                      "directionType": "recap",
                      "parameters": {
                        "message": "You pick a hiking destination, get dressed, and pack your gear."
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "get ready",
              "customProperties": {
                "sourceLocation": 1847,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "get ready",
            "children": [],
            "isLink": false,
            "label": "get ready",
            "sourceID": "story.abc",
            "sourceLocation": 1847
          },
          "water": {
            "scene": {
              "contents": [
                {
                  "narration": "How many bottles of water would you like to take with you?",
                  "sceneDirections": [
                    {
                      "directionType": "reprompt",
                      "parameters": {
                        "message": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?"
                      }
                    },
                    {
                      "directionType": "slot",
                      "parameters": {
                        "variableName": "bottles",
                        "variableType": "AMAZON.NUMBER"
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "{bottles}",
                          "{bottles} bottle",
                          "{bottles} bottles"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "condition",
                            "parameters": {
                              "condition": "{bottles} <= 0",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "not enough",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "directionType": "condition",
                            "parameters": {
                              "condition": "{bottles} > 4",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "too many",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "trailhead",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": []
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no",
                          "none"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "not enough",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent",
                          "flexcIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "water",
              "customProperties": {
                "sourceLocation": 2457,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "not enough",
              "too many",
              "trailhead"
            ],
            "id": "water",
            "children": [],
            "isLink": false,
            "label": "water",
            "sourceID": "story.abc",
            "sourceLocation": 2457
          },
          "not enough": {
            "scene": {
              "contents": [
                {
                  "narration": "You need at least some water.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "not enough",
              "customProperties": {
                "sourceLocation": 3687,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "not enough",
            "children": [],
            "isLink": false,
            "label": "not enough",
            "sourceID": "story.abc",
            "sourceLocation": 3687
          },
          "too many": {
            "scene": {
              "contents": [
                {
                  "narration": "You only have 4 bottles to use at home.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "water",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "too many",
              "customProperties": {
                "sourceLocation": 3851,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "water"
            ],
            "id": "too many",
            "children": [],
            "isLink": false,
            "label": "too many",
            "sourceID": "story.abc",
            "sourceLocation": 3851
          },
          "trailhead": {
            "scene": {
              "contents": [
                {
                  "narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
                  "sceneDirections": [
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "{hesitated}",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "parking full",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "parking free",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "trailhead",
              "customProperties": {
                "sourceLocation": 3929,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "parking full",
              "parking free"
            ],
            "id": "trailhead",
            "children": [],
            "isLink": false,
            "label": "trailhead",
            "sourceID": "story.abc",
            "sourceLocation": 3929
          },
          "parking full": {
            "scene": {
              "contents": [
                {
                  "narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "start hike",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "parking full",
              "customProperties": {
                "sourceLocation": 4302,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "start hike"
            ],
            "id": "parking full",
            "children": [],
            "isLink": false,
            "label": "parking full",
            "sourceID": "story.abc",
            "sourceLocation": 4302
          },
          "parking free": {
            "scene": {
              "contents": [
                {
                  "narration": "You pull up to the trailhead and park.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "start hike",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "parking free",
              "customProperties": {
                "sourceLocation": 4659,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "start hike"
            ],
            "id": "parking free",
            "children": [],
            "isLink": false,
            "label": "parking free",
            "sourceID": "story.abc",
            "sourceLocation": 4659
          },
          "start hike": {
            "scene": {
              "contents": [
                {
                  "narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "rest",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "start hike",
              "customProperties": {
                "sourceLocation": 4745,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "rest"
            ],
            "id": "start hike",
            "children": [],
            "isLink": false,
            "label": "start hike",
            "sourceID": "story.abc",
            "sourceLocation": 4745
          },
          "rest": {
            "scene": {
              "contents": [
                {
                  "narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "continue on to the peak"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "continue",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexdIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "call it a day and head down"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "head home",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "flexeIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "rest",
              "customProperties": {
                "sourceLocation": 5461,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "continue",
              "head home"
            ],
            "id": "rest",
            "children": [],
            "isLink": false,
            "label": "rest",
            "sourceID": "story.abc",
            "sourceLocation": 5461
          },
          "head home": {
            "scene": {
              "contents": [
                {
                  "narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "head home",
              "customProperties": {
                "sourceLocation": 6055,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "head home",
            "children": [],
            "isLink": false,
            "label": "head home",
            "sourceID": "story.abc",
            "sourceLocation": 6055
          },
          "continue": {
            "scene": {
              "contents": [
                {
                  "narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
                  "sceneDirections": [
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "{bottles} <= 1",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "peak fail",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "peak",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "continue",
              "customProperties": {
                "sourceLocation": 6254,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "peak fail",
              "peak"
            ],
            "id": "continue",
            "children": [],
            "isLink": false,
            "label": "continue",
            "sourceID": "story.abc",
            "sourceLocation": 6254
          },
          "peak fail": {
            "scene": {
              "contents": [
                {
                  "narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "peak fail",
              "customProperties": {
                "sourceLocation": 6622,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "peak fail",
            "children": [],
            "isLink": false,
            "label": "peak fail",
            "sourceID": "story.abc",
            "sourceLocation": 6622
          },
          "peak": {
            "scene": {
              "contents": [
                {
                  "narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
                  "sceneDirections": [
                    {
                      "directionType": "go to",
                      "parameters": {
                        "target": "end",
                        "targetSceneProperty": "narration"
                      }
                    }
                  ]
                }
              ],
              "id": "peak",
              "customProperties": {
                "sourceLocation": 7312,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "end"
            ],
            "id": "peak",
            "children": [],
            "isLink": false,
            "label": "peak",
            "sourceID": "story.abc",
            "sourceLocation": 7312
          },
          "global prepend": {
            "scene": {
              "contents": [
                {
                  "narration": "",
                  "sceneDirections": [
                    {
                      "directionType": "visuals",
                      "parameters": {
                        "template": "default",
                        "background": "https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg",
                        "title": "Skill Flow Builder",
                        "subtitle": ""
                      }
                    }
                  ]
                }
              ],
              "id": "global prepend",
              "customProperties": {
                "sourceLocation": 8202,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "global prepend",
            "children": [],
            "isLink": false,
            "label": "global prepend",
            "sourceID": "story.abc",
            "sourceLocation": 8202
          },
          "global append": {
            "scene": {
              "contents": [
                {
                  "narration": "",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "start over",
                          "restart"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "restart",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.StartOverIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "repeat"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "repeat",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.RepeatIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "help"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "help",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.HelpIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "go back"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "back",
                            "parameters": {
                              "count": 1
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.PreviousIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "condition",
                      "parameters": {
                        "condition": "!{helped}",
                        "directions": [
                          {
                            "directionType": "choice",
                            "parameters": {
                              "utterances": [
                                "*"
                              ],
                              "saveToHistory": "true",
                              "directions": [
                                {
                                  "directionType": "go to",
                                  "parameters": {
                                    "target": "help",
                                    "targetSceneProperty": "narration"
                                  }
                                }
                              ],
                              "utteranceIDs": []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "global append",
              "customProperties": {
                "sourceLocation": 8567,
                "sourceID": "story.abc"
              }
            },
            "childIds": [
              "help"
            ],
            "id": "global append",
            "children": [],
            "isLink": false,
            "label": "global append",
            "sourceID": "story.abc",
            "sourceLocation": 8567
          },
          "resume": {
            "scene": {
              "contents": [
                {
                  "narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "yes"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "go to",
                            "parameters": {
                              "target": "{resume}",
                              "targetSceneProperty": "narration"
                            }
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.YesIntent"
                        ]
                      }
                    },
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "no"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "restart",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "AMAZON.NoIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "resume",
              "customProperties": {
                "sourceLocation": 9408,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "resume",
            "children": [],
            "isLink": false,
            "label": "resume",
            "sourceID": "story.abc",
            "sourceLocation": 9408
          },
          "pause": {
            "scene": {
              "contents": [
                {
                  "narration": "Thanks for playing.",
                  "sceneDirections": [
                    {
                      "directionType": "pause",
                      "parameters": {}
                    }
                  ]
                }
              ],
              "id": "pause",
              "customProperties": {
                "sourceLocation": 9727,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "pause",
            "children": [],
            "isLink": false,
            "label": "pause",
            "sourceID": "story.abc",
            "sourceLocation": 9727
          },
          "end": {
            "scene": {
              "contents": [
                {
                  "narration": "Thanks for playing. Would you like to start over or take a break?",
                  "sceneDirections": [
                    {
                      "directionType": "choice",
                      "parameters": {
                        "utterances": [
                          "take a break"
                        ],
                        "saveToHistory": "true",
                        "directions": [
                          {
                            "directionType": "ending",
                            "parameters": {}
                          }
                        ],
                        "utteranceIDs": [
                          "flexfIntent"
                        ]
                      }
                    }
                  ]
                }
              ],
              "id": "end",
              "customProperties": {
                "sourceLocation": 9781,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "end",
            "children": [],
            "isLink": false,
            "label": "end",
            "sourceID": "story.abc",
            "sourceLocation": 9781
          },
          "help": {
            "scene": {
              "contents": [
                {
                  "narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.",
                  "sceneDirections": [
                    {
                      "directionType": "flag",
                      "parameters": {
                        "variableName": "helped"
                      }
                    },
                    {
                      "directionType": "back",
                      "parameters": {
                        "count": 1
                      }
                    }
                  ]
                }
              ],
              "id": "help",
              "customProperties": {
                "sourceLocation": 9904,
                "sourceID": "story.abc"
              }
            },
            "childIds": [],
            "id": "help",
            "children": [],
            "isLink": false,
            "label": "help",
            "sourceID": "story.abc",
            "sourceLocation": 9904
          }
        },
        "sceneRefs": {
          "start": {
            "contents": [
              {
                "narration": "Good morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
                "sceneDirections": [
                  {
                    "directionType": "clear",
                    "parameters": {
                      "variableName": "hesitated"
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes",
                        "go on a hike"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "get ready",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent",
                        "flexaIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "flag",
                          "parameters": {
                            "variableName": "hesitated"
                          }
                        },
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "hesitate",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "start",
            "customProperties": {
              "sourceLocation": 226,
              "sourceID": "story.abc"
            }
          },
          "hesitate": {
            "contents": [
              {
                "narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes",
                        "go on a hike",
                        "reconsider"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "get ready",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent",
                        "flexaIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "do not go on a hike",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "great"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "end",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexbIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "hesitate",
            "customProperties": {
              "sourceLocation": 1210,
              "sourceID": "story.abc"
            }
          },
          "do not go on a hike": {
            "contents": [
              {
                "narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "do not go on a hike",
            "customProperties": {
              "sourceLocation": 1653,
              "sourceID": "story.abc"
            }
          },
          "get ready": {
            "contents": [
              {
                "narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
                "sceneDirections": [
                  {
                    "directionType": "recap",
                    "parameters": {
                      "message": "You pick a hiking destination, get dressed, and pack your gear."
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "get ready",
            "customProperties": {
              "sourceLocation": 1847,
              "sourceID": "story.abc"
            }
          },
          "water": {
            "contents": [
              {
                "narration": "How many bottles of water would you like to take with you?",
                "sceneDirections": [
                  {
                    "directionType": "reprompt",
                    "parameters": {
                      "message": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?"
                    }
                  },
                  {
                    "directionType": "slot",
                    "parameters": {
                      "variableName": "bottles",
                      "variableType": "AMAZON.NUMBER"
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "{bottles}",
                        "{bottles} bottle",
                        "{bottles} bottles"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "condition",
                          "parameters": {
                            "condition": "{bottles} <= 0",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "not enough",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "directionType": "condition",
                          "parameters": {
                            "condition": "{bottles} > 4",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "too many",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "trailhead",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": []
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no",
                        "none"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "not enough",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent",
                        "flexcIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "water",
            "customProperties": {
              "sourceLocation": 2457,
              "sourceID": "story.abc"
            }
          },
          "not enough": {
            "contents": [
              {
                "narration": "You need at least some water.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "not enough",
            "customProperties": {
              "sourceLocation": 3687,
              "sourceID": "story.abc"
            }
          },
          "too many": {
            "contents": [
              {
                "narration": "You only have 4 bottles to use at home.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "water",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "too many",
            "customProperties": {
              "sourceLocation": 3851,
              "sourceID": "story.abc"
            }
          },
          "trailhead": {
            "contents": [
              {
                "narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
                "sceneDirections": [
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "{hesitated}",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "parking full",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "parking free",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "trailhead",
            "customProperties": {
              "sourceLocation": 3929,
              "sourceID": "story.abc"
            }
          },
          "parking full": {
            "contents": [
              {
                "narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "start hike",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "parking full",
            "customProperties": {
              "sourceLocation": 4302,
              "sourceID": "story.abc"
            }
          },
          "parking free": {
            "contents": [
              {
                "narration": "You pull up to the trailhead and park.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "start hike",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "parking free",
            "customProperties": {
              "sourceLocation": 4659,
              "sourceID": "story.abc"
            }
          },
          "start hike": {
            "contents": [
              {
                "narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "rest",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "start hike",
            "customProperties": {
              "sourceLocation": 4745,
              "sourceID": "story.abc"
            }
          },
          "rest": {
            "contents": [
              {
                "narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "continue on to the peak"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "continue",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexdIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "call it a day and head down"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "head home",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "flexeIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "rest",
            "customProperties": {
              "sourceLocation": 5461,
              "sourceID": "story.abc"
            }
          },
          "head home": {
            "contents": [
              {
                "narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "head home",
            "customProperties": {
              "sourceLocation": 6055,
              "sourceID": "story.abc"
            }
          },
          "continue": {
            "contents": [
              {
                "narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
                "sceneDirections": [
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "{bottles} <= 1",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "peak fail",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "peak",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "continue",
            "customProperties": {
              "sourceLocation": 6254,
              "sourceID": "story.abc"
            }
          },
          "peak fail": {
            "contents": [
              {
                "narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "peak fail",
            "customProperties": {
              "sourceLocation": 6622,
              "sourceID": "story.abc"
            }
          },
          "peak": {
            "contents": [
              {
                "narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
                "sceneDirections": [
                  {
                    "directionType": "go to",
                    "parameters": {
                      "target": "end",
                      "targetSceneProperty": "narration"
                    }
                  }
                ]
              }
            ],
            "id": "peak",
            "customProperties": {
              "sourceLocation": 7312,
              "sourceID": "story.abc"
            }
          },
          "global prepend": {
            "contents": [
              {
                "narration": "",
                "sceneDirections": [
                  {
                    "directionType": "visuals",
                    "parameters": {
                      "template": "default",
                      "background": "https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg",
                      "title": "Skill Flow Builder",
                      "subtitle": ""
                    }
                  }
                ]
              }
            ],
            "id": "global prepend",
            "customProperties": {
              "sourceLocation": 8202,
              "sourceID": "story.abc"
            }
          },
          "global append": {
            "contents": [
              {
                "narration": "",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "start over",
                        "restart"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "restart",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.StartOverIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "repeat"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "repeat",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.RepeatIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "help"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "help",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.HelpIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "go back"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "back",
                          "parameters": {
                            "count": 1
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.PreviousIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "condition",
                    "parameters": {
                      "condition": "!{helped}",
                      "directions": [
                        {
                          "directionType": "choice",
                          "parameters": {
                            "utterances": [
                              "*"
                            ],
                            "saveToHistory": "true",
                            "directions": [
                              {
                                "directionType": "go to",
                                "parameters": {
                                  "target": "help",
                                  "targetSceneProperty": "narration"
                                }
                              }
                            ],
                            "utteranceIDs": []
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "global append",
            "customProperties": {
              "sourceLocation": 8567,
              "sourceID": "story.abc"
            }
          },
          "resume": {
            "contents": [
              {
                "narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "yes"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "go to",
                          "parameters": {
                            "target": "{resume}",
                            "targetSceneProperty": "narration"
                          }
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.YesIntent"
                      ]
                    }
                  },
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "no"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "restart",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "AMAZON.NoIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "resume",
            "customProperties": {
              "sourceLocation": 9408,
              "sourceID": "story.abc"
            }
          },
          "pause": {
            "contents": [
              {
                "narration": "Thanks for playing.",
                "sceneDirections": [
                  {
                    "directionType": "pause",
                    "parameters": {}
                  }
                ]
              }
            ],
            "id": "pause",
            "customProperties": {
              "sourceLocation": 9727,
              "sourceID": "story.abc"
            }
          },
          "end": {
            "contents": [
              {
                "narration": "Thanks for playing. Would you like to start over or take a break?",
                "sceneDirections": [
                  {
                    "directionType": "choice",
                    "parameters": {
                      "utterances": [
                        "take a break"
                      ],
                      "saveToHistory": "true",
                      "directions": [
                        {
                          "directionType": "ending",
                          "parameters": {}
                        }
                      ],
                      "utteranceIDs": [
                        "flexfIntent"
                      ]
                    }
                  }
                ]
              }
            ],
            "id": "end",
            "customProperties": {
              "sourceLocation": 9781,
              "sourceID": "story.abc"
            }
          },
          "help": {
            "contents": [
              {
                "narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.",
                "sceneDirections": [
                  {
                    "directionType": "flag",
                    "parameters": {
                      "variableName": "helped"
                    }
                  },
                  {
                    "directionType": "back",
                    "parameters": {
                      "count": 1
                    }
                  }
                ]
              }
            ],
            "id": "help",
            "customProperties": {
              "sourceLocation": 9904,
              "sourceID": "story.abc"
            }
          }
        }
      },
      "jsonWithExtensions": null,
      "importSuccessful": true,
      "allProjectFileNames": [
        "story.abc"
      ],
      "isRestoreBackUpModalOpen": false,
      "currentFile": "story.abc",
      "isNewProjectModalOpen": false,
      "name": "sample",
      "awsProfileName": "default",
      "projectState": "Opened",
      "projectFileMap": {
        "story.abc": "// SPECIAL SCENE: @start is a special scene that tells the framework to start your game at this scene. It can be anywhere on your file. If no @start scene is present, the framework will start with the first scene in the file.\n@start\n\t*say\n\t\tGood morning! [pause] You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?\n\t*then\n\t\t// Clear the flag called 'hesitated' in case it was set in a previous play-through.\n\t\tclear hesitated\n\t\t// Listen for affirmative response phrases from the player and continue the game accordingly. Note: the phrase 'yes' will get automatically mapped to the AMAZON.YesIntent so that it will catch responses like \"yep\" and many others.\n        hear yes, go on a hike {\n\t\t\t// go to the '@get ready' scene.\n            -> get ready\n        }\n\t\t// Listen for negative response phrases from the player and continue the game accordingly. Note: the phrase 'no' will get automatically mapped to the AMAZON.NoIntent so that it will catch responses like \"nope\" and many others.\n        hear no {\n\t\t\t// Remember that the player hesitated so we can use that decision later in the game.\n            flag hesitated\n            -> hesitate\n        }\n\n@hesitate\n\t*say\n\t\tYou spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?\n\t*then\n\t\thear yes, go on a hike, reconsider {\n            -> get ready\n        }\n        hear no {\n            -> do not go on a hike\n        }\n\t\thear great {\n\t\t\t-> end\n\t\t}\n\n@do not go on a hike\n\t*say\n\t\tYou continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.\n\t*then\n\t\t-> end\n\n@get ready\n\t*say\n\t\tYay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!\n\t// Define a shortened '*recap' which the player will hear anytime this scene is repeated after the first time.\n\t*recap\n\t\tYou pick a hiking destination, get dressed, and pack your gear.\n\t*then\n\t\t-> water\n\n\n@water\n\t*say\n\t\tHow many bottles of water would you like to take with you?\n\t// Define a '*reprompt' to play if we don't understand the player's response.\n\t*reprompt\n\t\tI'd recommend one to three bottles of water. How many bottles of water would you like to take with you?\n\t*then\n\t\t// Tell the framework that it should listen for a number when we ask it to listen for {bottles}\n\t\tslot bottles to 'AMAZON.NUMBER'\n\t\t// Listen for a number or a number folowed by the phrase 'bottle' or 'bottles' and remember that number as 'bottles'\n\t\thear {bottles}, {bottles} bottle, {bottles} bottles {\n\t\t\t// if the player said zero, tell the player they need to bring water\n            if bottles <= 0 {\n                -> not enough\n            }\n\t\t\t// if the player said more that 4 bottles of water, tell the player that is too much\n            if bottles > 4 {\n                -> too many\n            }\n\t\t\t// if the player said between 1 and 4 bottles of water, keep playing\n            -> trailhead\n        }\n\t\t// If the player refuses or says 'none', tell the player to bring water. Hydration is important.\n\t\thear no, none {\n\t\t\t-> not enough\n\t\t}\n\n// Give a reason why the player can't proceed and route back to ask how many bottles of water.\n@not enough\n\t*say\n\t\tYou need at least some water.\n\t*then\n\t\t-> water\n\n// Give a reason why the player can't proceed and route back to ask how many bottles of water.\n@too many\n\t*say\n\t\tYou only have 4 bottles to use at home.\n\t*then\n\t\t-> water\n\n\n@trailhead\n\t*say\n\t\tYou fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.\n\t*then\n\t\t// The parking lot is now full if the player hesitated before deciding to go on a hike.\n\t\tif hesitated {\n            -> parking full\n        }\n        -> parking free\n\n\n@parking full\n\t*say\n\t\tYou pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.\n\t*then\n\t\t-> start hike\n\n\n@parking free\n\t*say\n\t\tYou pull up to the trailhead and park.\n\t*then\n\t\t-> start hike\n\n\n@start hike\n\t*say\n\t\tYou start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.\n\t*then\n\t\t-> rest\n\n\n@rest\n\t*say\n\t\tYou take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?\n\t*then\n\t\thear continue on to the peak {\n            -> continue\n        }\n        hear call it a day and head down {\n            -> head home\n        }\n\n\n@head home\n\t*say\n\t\tYou rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.\n\t*then\n\t\t-> end\n\n@continue\n\t*say\n\t\tYou get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.\n\t*then\n\t\t// The player can't make it to the peak if the player didn't bring enough water.\n\t\tif bottles <= 1 {\n            -> peak fail\n        }\n        -> peak\n\n\n@peak fail\n\t*say\n\t\tAbout half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.\n\t*then\n\t\t-> end\n\n@peak\n\t*say\n\t\tYou stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.\n\t*then\n\t\t-> end\n\n// SPECIAL SCENE: \"@global prepend\" is a special scene and allows you to add content or instructions to the start of every scene set\n@global prepend\n    *show\n        // add visuals to every scene\n        template: 'default'\n        background:'https://sfb-framework.s3.amazonaws.com/examples/images/alps.jpg'\n        title: 'Skill Flow Builder'\n        subtitle: ''\n\n// SPECIAL SCENE: \"@global append\" is a special scene and allows you to add content or instructions to the end of every scene set\n@global append\n    *then\n        // listen everywhere for a few helpful phrases\n        hear start over, restart {\n            // Tell the framework to restart from the beginning\n            >> RESTART\n        }\n        hear repeat {\n            // Tell the framework to repeat everything the player just heard. You can use >> REPROMPT which only plays the reprompt content\n            >> REPEAT\n        }\n        hear help {\n            -> help\n        }\n        hear go back {\n            >> back\n        }\n        // if the player hasn't heard the help message yet and says something the framework didn't catch, play the help message\n        if !helped {\n            hear * {\n                -> help\n            }\n        }\n\n// SPECIAL SCENE: @resume is a special scene that will play when the player comes back to the game after leaving\n@resume\n\t*say\n\t\tWelcome back to your hiking story. Would you like to pick up where you last left off?\n\t*then\n\t\thear yes {\n            // Tell the framework to pick up where they last left off\n\t\t\t>> RESUME\n\t\t}\n\t\thear no {\n\t\t\t>> RESTART\n\t\t}\n\n// SPECIAL SCENE: @pause is a special scene that plays before the skill pauses\n@pause\n\t*say\n\t\tThanks for playing.\n\t*then\n\t\t>> PAUSE\n\n@end\n\t*say\n\t\tThanks for playing. Would you like to start over or take a break?\n\t*then\n\t\thear take a break {\n\t\t\t>> END\n\t\t}\n\n@help\n    *say\n        Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off.\n    *then\n        // flag that player has heard this\n        flag helped\n\n        // go back to last scene.\n        >> BACK\n"
      }
    },
    "build": {
      "isPerformingBuildAction": false,
      "buildOutput": "",
      "isBuildOutputOpen": false
    },
    "images": {
      "files": [
        {
          "filename": "sample_image.png"
        }
      ]
    },
    "audio": {
      "files": [
        {
          "filename": "trumpet_1.mp3"
        }
      ]
    },
    "notes": {
      "source": ""
    },
    "languageStrings": {
      "langObj": {
        "en-US": {
          "translation": {
            "start.narration": "Good morning! You roll over in bed and look outside. It looks like a beautiful day. Would you like to go on a hike?",
            "utterance-yes": "yes",
            "utterance-go on a hike": "go on a hike",
            "utterance-no": "no",
            "utterance-start over": "start over",
            "utterance-restart": "restart",
            "utterance-repeat": "repeat",
            "utterance-help": "help",
            "utterance-go back": "go back",
            "hesitate.narration": "You spend the morning inside doing chores and playing video games. Late morning, you look outside and notice that the day is just getting nicer and nicer. It occurs to you that you still have time to fit in a hike. Do you reconsider and go on a hike?",
            "utterance-reconsider": "reconsider",
            "utterance-great": "great",
            "do not go on a hike.narration": "You continue to do chores and play video games and the day passes you by. You go to sleep feeling cranky. What a waste of a beautiful day. The end.",
            "get ready.narration": "Yay, you are so excited. You start to get ready for your adventure. You pick a beautiful nearby alpine lake as your hiking destination and get out your daypack. You toss your fully charge smartphone, first aide kit, small multitool, a big bag of granola, and a lightweight rain jacket into your pack. You throw on some comfy hiking clothes and lace up your hiking shoes. Almost ready!",
            "get ready.recap": "You pick a hiking destination, get dressed, and pack your gear.",
            "water.narration": "How many bottles of water would you like to take with you?",
            "water.reprompt": "I'd recommend one to three bottles of water. How many bottles of water would you like to take with you?",
            "utterance-{bottles}": "{bottles}",
            "utterance-{bottles} bottle": "{bottles} bottle",
            "utterance-{bottles} bottles": "{bottles} bottles",
            "utterance-none": "none",
            "not enough.narration": "You need at least some water.",
            "too many.narration": "You only have 4 bottles to use at home.",
            "trailhead.narration": "You fill up {bottles} water bottles and grab your gear. On the car ride out to the trailhead you listen to your favorite album of woodland sounds. You are so amped for a hike.",
            "parking full.narration": "You pull up to the trailhead and the parking lot is completely full. You drive around for a few minutes until you see a couple who are back from their hike and tossing their gear into the trunk of their car. You pull up and wait while they pack up. Eventually, they drive away and you grab their parking spot.",
            "parking free.narration": "You pull up to the trailhead and park.",
            "start hike.narration": "You start hiking up towards the alpine lake and after a short while you are feeling the effort in your legs and lungs. It feels good and you keep trekking through the trees, stopping occasionally for water or a quick bite of granola. Your mind begins to clear and you feel at one with nature. At about an hour in, the vegitation around you becomes shorter and more sparse and the trail connects with a stream that runs along your left. Then you see it, a little patch of blue expanse up ahead. Your legs are pretty tired, but you quicken your pace. The blue grows as you approach. Then, all of a sudden, the lake is right in front of you, surrounded on 3 sides by rocky peaks.",
            "rest.narration": "You take a seat on a large rock at the edge of the lake and relax with some water and granola. The sun feels great and your legs thank you for the chance to rest. You look to you right and notice that the trail continues. From where you sit, you can see it traversing back and forth up the right most peak. It must be an incredible view from up there. Would you like to continue on to the peak or call it a day and head down?",
            "utterance-continue on to the peak": "continue on to the peak",
            "utterance-call it a day and head down": "call it a day and head down",
            "head home.narration": "You rest a little longer at the lake and then head down the trail. To get to the parking lot faster than your thought you would and head to get a burger. The end.",
            "continue.narration": "You get up from the rock and start up the winding trail. Your legs ache but soon loosen up. You are high up enough that there isn't much tree coverage and the sun is beating down on you.",
            "peak fail.narration": "About half way up, you stop to drink some water and notice that there is not much left in your bottle. You drink the last bit and wish you had brought more water with you. It's still a pretty long way up to the top and the trail is completely exposed to the sun and wind. Just looking at the rest of the trail remaining makes your throat dry. You take stock of your situation and decide that you'd better call it a day. You head back to the lake and then down to the parking lot. You are parched and sad that you didn't make it to the top but glad that you didn't risk it. You hop in your car and head out to get a burger on your way back home. The end.",
            "peak.narration": "You stop for more granola and water frequently. Good thing you brought enough water. It is a grueling climb, much harder than your thought it would be when looking up from the lake. Eventually you start to get closer to the peak and your adrenalin starts to kick in. The air is great up here. Then you take your final step and you are standing on top of the peak and can see forever in all directions. You take a moment to soak it in and take some photos. It's quiet peaceful up there. Eventually, you decide to head down. It's a long trip down and your legs are shot but it was totally worth it. Finally, you make it to the parking lots and flop into your car. You are beat and ready for a burger. What a great day! The end.",
            "resume.narration": "Welcome back to your hiking story. Would you like to pick up where you last left off?",
            "pause.narration": "Thanks for playing.",
            "end.narration": "Thanks for playing. Would you like to start over or take a break?",
            "utterance-take a break": "take a break",
            "help.narration": "Here's the help menu. Make choices to navigate the story or you can tell me to start over or stop. Picking up where you left off."
          }
        }
      }
    }
  }
}
